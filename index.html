<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2026 불로런 | 미스토 배 불로장생 마라톤</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <a href="#" class="logo-wrap">
        <img src="assets/logo-partners.png" alt="MISTO × CJ 올리브네트웍스" class="logo-img">
        <span class="logo">BULO RUN</span>
      </a>
      <nav class="nav">
        <a href="#overview">대회개요</a>
        <a href="#registration">참가신청</a>
        <a href="#course">코스</a>
        <a href="#event">이벤트</a>
        <a href="#faq">FAQ</a>
      </nav>
      <button type="button" class="nav-toggle" aria-label="메뉴 열기">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="hero-bg" role="img" aria-label="러너가 달리는 마라톤 배경"></div>
      <div class="hero-content">
        <p class="hero-greeting">
          완주만 해도 불로장생하는 불로 마라톤 (aka 불로런)
        </p>
        <p class="hero-desc">
          2026 MISTO BULO MARATHON은<br>
          20대부터 50대까지 모두 아우르는<br>
          차별없는 마라톤 대회를 추구합니다.
        </p>
        <a href="#overview" class="cta">자세한 내용 알아보기</a>
      </div>
    </section>

    <section id="overview" class="section overview">
      <div class="container">
        <h2 class="section-title">OVERVIEW</h2>
        <h3 class="section-subtitle">대회개요</h3>
        <div class="table-wrap">
          <table class="info-table">
            <tbody>
              <tr>
                <th>대회명</th>
                <td>2026 불로런 (미스토 배 불로장생 마라톤)</td>
              </tr>
              <tr>
                <th>개최일정</th>
                <td>3/27 금요일 (추후 일정 및 날씨에 따라 변동 가능)</td>
              </tr>
              <tr>
                <th>주최</th>
                <td>CJ올리브네트웍스 MISTO 프로젝트</td>
              </tr>
              <tr>
                <th>코스</th>
                <td>10KM 제기동 ~ 응봉역 / 5KM 제기동 ~ 월곡역</td>
              </tr>
              <tr>
                <th>집결장소</th>
                <td>정릉천 스케이트보드장</td>
              </tr>
              <tr>
                <th>집결시간</th>
                <td>오후 2:00 예정 (집결 일정 및 시간은 변경될 수 있음)</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="registration" class="section registration">
      <div class="section-bg"></div>
      <div class="container">
        <h2 class="section-title">REGISTRATION</h2>
        <h3 class="section-subtitle">접수 안내</h3>
        <div class="registration-content">
          <p>미스토 프로젝트 구성원을 위한 특별 참가 혜택이 준비되어 있습니다.</p>
          <div class="registration-cta">
            <button type="button" class="btn btn-open-form">참가신청하기</button>
          </div>
        </div>
      </div>
    </section>

    <section id="course" class="section course">
      <div class="container">
        <h2 class="section-title">COURSE</h2>
        <h3 class="section-subtitle">마라톤 코스</h3>
        <div class="course-cards">
          <div class="course-card">
            <h4>10K 코스</h4>
            <p>정릉천 출발 · 응봉역에서 반환</p>
            <img src="assets/course-10k.png" alt="10K 러닝 코스 – 제기동역 START/FINISH, 응봉역 TURNAROUND" class="course-map-img">
          </div>
          <div class="course-card">
            <h4>5K 코스</h4>
            <p>정릉천 출발 · 월곡역에서 반환</p>
            <img src="assets/course-5k.png" alt="5K 러닝 코스 – 제기동역 START/FINISH, 월곡역 TURNAROUND" class="course-map-img">
          </div>
        </div>
      </div>
    </section>

    <section id="event" class="section event">
      <div class="section-bg"></div>
      <div class="container">
        <h2 class="section-title">EVENT</h2>
        <h3 class="section-subtitle">이벤트 안내</h3>
        <div class="event-content">
          <h4 class="event-title">10K 5등을 맞춰라!!</h4>
          <p class="event-desc">당일 10K를 뛰는 구성원이 공개되면 누가 5등을 할지 "정확히" 맞추시는 분들에게도 소정의 상품이 지급될 예정입니다.</p>
          <button type="button" class="btn btn-open-event-modal">10K 5등 예측 응모하기</button>
        </div>
      </div>
    </section>

    <section id="faq" class="section faq">
      <div class="container">
        <h2 class="section-title">FAQ</h2>
        <h3 class="section-subtitle">자주 묻는 질문</h3>
        <div class="faq-list">
          <details class="faq-item">
            <summary>시상은 어떤 기준으로 하나요?</summary>
            <p>10K 여자 1등, 남자 1등, 5K 여자 1등, 남자 1등 으로 선정합니다. 그리고 최대한 많은 사람들에게 상품을 줄 수 있는 동등한 기회를 주기 위해 등수에 차등을 두어 상품 추첨권을 부여합니다. (1등은 10개, 2등은 5개, 3등은 3개, 완주 시 1개) 어떤 상품이 있는지는 추후 공지됩니다.</p>
          </details>
          <details class="faq-item">
            <summary>코스는 어떻게 되나요?</summary>
            <p>위의 코스 맵을 참고해주세요! 정릉천 아래 스케이트 보드장에 집결 후 10K, 5K 모두 투썸 근처 계단으로 내려가면 있는 정릉천에서 시작합니다. 그리고 10K는 응봉 방향, 5K는 월곡 방향으로 뛴 후에 다시 처음 지점으로 반환합니다.</p>
          </details>
          <details class="faq-item">
            <summary>그룹별로 어떻게 나누어져 뛰나요?</summary>
            <p>그룹은 랜덤으로 나누어져 뜁니다! 10K는 A/B 그룹으로, 5K 경쟁 부문은 C/D 그룹으로, 그리고 5K 비경쟁부문은 E/F 그룹으로 나누어질 예정이며, 출발 순서는 E - F - A/C - B/D 순으로 진행합니다! (10K와 5K 코스는 상이함)</p>
          </details>
          <details class="faq-item">
            <summary>마라톤 굿즈도 있나요?</summary>
            <p>네, 있습니다! 무엇인지는 비밀입니다^ㅁ^</p>
          </details>
          <details class="faq-item">
            <summary>상품은 어떤게 있나요?</summary>
            <p>당일 상품 추첨권을 통해 공개됩니다!</p>
          </details>
        </div>
      </div>
    </section>
  </main>

  <!-- 이벤트(10K 5등 예측) 팝업 -->
  <div id="event-modal" class="modal" aria-hidden="true">
    <div class="modal-backdrop event-modal-backdrop"></div>
    <div class="modal-box event-modal-box">
      <button type="button" class="modal-close event-modal-close" aria-label="닫기">&times;</button>
      <p class="event-modal-intro">다음은 10K 경쟁 부문에 출전하는 선수들입니다.<br>여기서 10K 5등을 차지할 사람은 누구일지 맞춰주세요!!</p>
      <div class="event-modal-section">
        <h4 class="event-modal-heading">1. 참가 후보</h4>
        <p class="event-modal-hint">아래 후보 중 한 명을 클릭해 선택하세요. (마우스를 올리면 굵게 표시됩니다)</p>
        <div id="event-candidates" class="event-candidates"></div>
      </div>
      <div class="event-modal-section">
        <h4 class="event-modal-heading">2. 추첨을 위해 응모하시는 본인 이름을 작성해 주세요.</h4>
        <input type="text" id="event-applicant-name" class="event-applicant-input" placeholder="본인 이름">
      </div>
      <div class="event-modal-actions">
        <button type="button" class="btn btn-submit" id="event-submit-btn">응모하기</button>
        <button type="button" class="btn btn-outline event-modal-cancel">취소하기</button>
      </div>
      <!-- 확인 팝업 레이어 (응모하기 클릭 후) -->
      <div id="event-confirm-layer" class="event-confirm-layer" hidden style="display: none;">
        <div class="event-confirm-box">
          <p id="event-confirm-message" class="event-confirm-message"></p>
          <div class="event-confirm-actions">
            <button type="button" class="btn btn-submit" id="event-confirm-ok">확인</button>
            <button type="button" class="btn btn-outline" id="event-confirm-cancel">취소</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 참가 신청 팝업 -->
  <div id="form-modal" class="modal" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-box">
      <button type="button" class="modal-close" aria-label="닫기">&times;</button>
      <h3 class="modal-title">참가 신청</h3>
      <form id="registration-form" class="form">
        <div class="form-group">
          <label for="name">이름 <span class="required">*</span></label>
          <input type="text" id="name" name="name" required placeholder="이름을 입력하세요">
        </div>
        <div class="form-group">
          <label for="birthdate">생년월일 <span class="required">*</span></label>
          <input type="date" id="birthdate" name="birthdate" required>
        </div>
        <div class="form-group">
          <label for="category">참가 부문 <span class="required">*</span></label>
          <select id="category" name="category" required>
            <option value="">선택하세요</option>
            <option value="10K-competition">10K - 경쟁부문</option>
            <option value="10K-noncompetition">10K - 비경쟁부문</option>
            <option value="5K-competition">5K - 경쟁부문</option>
            <option value="5K-noncompetition">5K - 비경쟁부문</option>
            <option value="staff">스탭지원</option>
            <option value="none">참가안함</option>
          </select>
        </div>
        <div class="form-group">
          <label for="dinner">회식 참석 여부 <span class="required">*</span></label>
          <select id="dinner" name="dinner" required>
            <option value="">선택하세요</option>
            <option value="attend">참석</option>
            <option value="absent">불참</option>
          </select>
        </div>
        <div class="form-group">
          <label for="message">각오 한마디 <span class="required">*</span></label>
          <textarea id="message" name="message" rows="3" required placeholder="각오 한마디를 입력하세요"></textarea>
        </div>
        <button type="submit" class="btn btn-submit">접수하기</button>
      </form>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <img src="assets/logo-partners.png" alt="MISTO × CJ 올리브네트웍스" class="footer-logo">
      <div class="footer-brand">
        <strong>2026 불로런</strong>
        <span>미스토 배 불로장생 마라톤</span>
      </div>
      <p class="footer-contact">문의: 미스토 프로젝트 운영팀</p>
      <p class="footer-copy">© 2026 불로런. All rights reserved.</p>
      <p class="footer-admin"><button type="button" class="footer-admin-label" id="admin-entry-btn">Administrator</button></p>
    </div>
  </footer>

  <!-- 관리자 비밀번호 팝업 -->
  <div id="admin-auth-modal" class="modal" aria-hidden="true">
    <div class="modal-backdrop admin-auth-backdrop"></div>
    <div class="modal-box" style="max-width: 360px;">
      <h3 class="modal-title">관리자 로그인</h3>
      <p style="margin-bottom: 1rem; color: var(--color-text-muted, #5c6564); font-size: 0.95rem;">비밀번호를 입력하세요.</p>
      <input type="password" id="admin-auth-password" class="form input" placeholder="비밀번호" style="width: 100%; padding: 0.75rem; margin-bottom: 1rem; border-radius: 10px; border: 1px solid rgba(91, 143, 181, 0.25);">
      <div style="display: flex; gap: 0.75rem; justify-content: flex-end;">
        <button type="button" class="btn btn-outline" id="admin-auth-cancel">취소</button>
        <button type="button" class="btn btn-submit" id="admin-auth-submit">확인</button>
      </div>
    </div>
  </div>

  <!-- 방법 1) Firebase 사용 (백엔드 없이 GitHub Pages만 사용 시): Firebase 콘솔에서 프로젝트 생성 후 아래 설정 복사 -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script>
    var FIREBASE_CONFIG = {
      apiKey: "AIzaSyAwknBpq0v02BAlVr6y_iDVJEYcTqauKNQ",
      authDomain: "bulorun-275f7.firebaseapp.com",
      projectId: "bulorun-275f7",
      storageBucket: "bulorun-275f7.firebasestorage.app",
      messagingSenderId: "688558152971",
      appId: "1:688558152971:web:73aa5ed6bbb0577a2b160e",
      measurementId: "G-YZDS6771Z7"
    };
    if (typeof FIREBASE_CONFIG === 'object' && FIREBASE_CONFIG && FIREBASE_CONFIG.projectId) {
      try {
        firebase.initializeApp(FIREBASE_CONFIG);
        window.firestoreDb = firebase.firestore();
      } catch (e) { console.warn('Firebase init:', e); }
    }
  </script>
  <script src="script.js"></script>
  <script>
    (function () {
      var btn = document.getElementById('admin-entry-btn');
      var modal = document.getElementById('admin-auth-modal');
      var backdrop = modal && modal.querySelector('.admin-auth-backdrop');
      var input = document.getElementById('admin-auth-password');
      var cancelBtn = document.getElementById('admin-auth-cancel');
      var submitBtn = document.getElementById('admin-auth-submit');

      function openAdminModal() {
        if (!modal) return;
        modal.classList.add('is-open');
        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
        if (input) { input.value = ''; input.focus(); }
      }
      function closeAdminModal() {
        if (!modal) return;
        modal.classList.remove('is-open');
        modal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      }

      if (btn) btn.addEventListener('click', openAdminModal);
      if (cancelBtn) cancelBtn.addEventListener('click', closeAdminModal);
      if (backdrop) backdrop.addEventListener('click', closeAdminModal);
      if (submitBtn && input) {
        submitBtn.addEventListener('click', function () {
          var password = input.value.trim();
          if (!password) { alert('비밀번호를 입력하세요.'); return; }
          fetch('/api/admin-auth', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ password: password }),
            credentials: 'same-origin'
          }).then(function (res) {
            if (res.ok) { closeAdminModal(); window.location.href = '/admin'; return; }
            return res.json().then(function (data) { alert(data.error || '비밀번호가 올바르지 않습니다.'); });
          }).catch(function () { alert('연결할 수 없습니다. 서버를 확인하세요.'); });
        });
      }
      modal && modal.addEventListener('keydown', function (e) { if (e.key === 'Escape') closeAdminModal(); });
    })();
  </script>
</body>
</html>
